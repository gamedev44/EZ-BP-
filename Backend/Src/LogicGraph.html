<!DOCTYPE htmX>
<!-- THIS IS A SIMPLE TO USE BP SCRIPTING LANGUAGE AND SERIALIZER IVE BEEN WANTING TO MAKE FOR SOME TIME SO HERE GOES MY BEST FIRST FEW HOURS ATTEMPT.-->
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ez-BP+ By: PGD</title>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .container { margin-top: 20px; }
    label, input, button { display: block; margin-top: 10px; }
    input, button { width: 200px; padding: 8px; }
    .outputs { position: relative; width: 50%; height: 100px; background: #f9f9f9; overflow: auto; border: 1px solid #ccc; cursor: grab; }
    .output-block { background-color: #f4f4f4; padding: 10px; border: 1px solid #ddd; position: absolute; cursor: move; }
    .copy-btn { position: absolute; right: 10px; top: 10px; }
    #suggestions { padding: 8px; cursor: pointer; }
    #suggestions div:hover { background-color: #e9e9e9; }
</style>
</head>
<body>

    <h1> EZ-BP+ Blueprint Superset Language Prototype by: PGD</h1>


<div class="container">
    <label for="keyInput">Enter a Key:</label>
    <input type="text" id="keyInput" placeholder="Type 'When Level Starts' or 'IF Key Pressed'" oninput="showSuggestions(this.value)">
    <div id="suggestions"></div>
    <label for="customKey" id="customKeyLabel" style="display: none;">Enter Custom Key:</label>
    <input type="text" id="customKey" style="display: none;">
    <button onclick="generateOutput()">Generate</button>
    <button onclick="copyAll()">Copy All</button>
    <div id="output" class="outputs"></div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script>


 // Fully Custom Dictionary database of Blueprint data parsed directly from ue5.3 Built By: Asterisk @ PGD
      const suggestions = {

       
       
        //Built in Events
    "When Level Starts": `Begin Object Class=/Script/BlueprintGraph.K2Node_Event Name="K2Node_Event_0" ExportPath="/Script/BlueprintGraph.K2Node_Event'/Game/GameName/General_Blueprints:EventGraph.K2Node_Event_0'\nEventReference=(MemberParent="/Script/CoreUObject.Class'/Script/Engine.Actor'",MemberName="ReceiveBeginPlay")\nEnabledState=Disabled\nbCommentBubblePinned=True\nbCommentBubbleVisible=True\nNodeComment="This node is disabled and will not be called.\\nDrag off pins to build functionality. version by PGD"\nNodeGuid=BCC2B55647213F8983851AA57F902D7B\nEnd Object`,
    
    
       // Custom Input Action Binding Integration Event Dynamic
    "IF Key Pressed": `Begin Object Class=/Script/BlueprintGraph.K2Node_InputKey Name="K2Node_InputKey_0" ExportPath="/Script/BlueprintGraph.K2Node_InputKey'/Game/GameName/General_Blueprints:EventGraph.K2Node_InputKey_0'\nInputKey="UserSpecifiedKey"\nNodePosX=-0\nNodePosY=0\nEnabledState=Disabled\nbCommentBubblePinned=True\nbCommentBubbleVisible=True\nNodeComment="This node is disabled and will not be called.\\nDrag off pins to build functionality. version by PGD"\nNodeGuid=6C28422145B8C100C18DED8333ED8EE5\nEnd Object`,
    


      // Custom Prefab Event Code
    "Play Background Music": `Begin Object Class=/Script/BlueprintGraph.K2Node_Event Name="K2Node_Event_0" ExportPath="/Script/BlueprintGraph.K2Node_Event'/Game/GameName/General/Blueprints:EventGraph.K2Node_Event_0'" EventReference=(MemberParent="/Script/CoreUObject.Class'/Script/Engine.Actor'",MemberName="ReceiveBeginPlay") bOverrideFunction=True NodePosX=0 NodePosY=-0 bCommentBubblePinned=True NodeGuid=BCC2B55647213F8983851AA57F902D7B CustomProperties Pin (PinId=E25FA3CA4D71BE4FF66381A9A6547FDC,PinName="OutputDelegate",Direction="EGPD_Output",PinType.PinCategory="delegate",PinType.PinSubCategory="",PinType.PinSubCategoryObject=None,PinType.PinSubCategoryMemberReference=(MemberParent="/Script/CoreUObject.Class'/Script/Engine.Actor'",MemberName="ReceiveBeginPlay"),PinType.PinValueType=(),PinType.ContainerType=None,PinType.bIsReference=False,PinType.bIsConst=False,PinType.bIsWeakPointer=False,PinType.bIsUObjectWrapper=False,PinType.bSerializeAsSinglePrecisionFloat=False,PersistentGuid=00000000000000000000000000000000,bHidden=False,bNotConnectable=False,bDefaultValueIsReadOnly=False,bDefa` };





function showSuggestions(value) {
    const suggestionsContainer = document.getElementById('suggestions');
    suggestionsContainer.innerHTML = '';
    const regex = new RegExp(value, 'i');
    Object.keys(suggestions).forEach(key => {
        if (regex.test(key)) {
            const div = document.createElement('div');
            div.textContent = key;
            div.className = 'suggestion';
            div.onclick = function() {
                document.getElementById('keyInput').value = key;
                suggestionsContainer.innerHTML = '';
                document.getElementById('customKey').style.display = key === 'IF Key Pressed' ? 'block' : 'none';
                document.getElementById('customKeyLabel').style.display = key === 'IF Key Pressed' ? 'block' : 'none';
            };
            suggestionsContainer.appendChild(div);
        }
    });
}

function generateOutput() {
    const key = document.getElementById('keyInput').value.toLowerCase();
    if (!suggestions[key]) {
        alert("No matching suggestion found!");
        return;
    }
    let nodeText = suggestions[key];
    if (key === "IF Key Pressed" && document.getElementById('customKey').style.display !== 'none') {
        const customKey = document.getElementById('customKey').value;
        nodeText = nodeText.replace("UserSpecifiedKey", customKey);
    }

    const outputDiv = document.createElement('div');
    outputDiv.className = 'output-block';
    outputDiv.textContent = key; // Displaying only the node name
    outputDiv.dataset.serializedData = nodeText; // Storing full node data for copy

    const copyBtn = document.createElement('button');
    copyBtn.textContent = 'Copy';
    copyBtn.className = 'copy-btn';
    copyBtn.onclick = function() { navigator.clipboard.writeText(outputDiv.dataset.serializedData).then(() => alert('Copied!')); };
    outputDiv.appendChild(copyBtn);

    document.getElementById('output').appendChild(outputDiv);
    $(outputDiv).draggable({ grid: [10, 10] });
}

function copyAll() {
    const outputs = document.querySelectorAll('.output-block');
    const fullText = Array.from(outputs).map(output => output.dataset.serializedData).join("\\n\\n");
    navigator.clipboard.writeText(fullText).then(() => alert('All nodes copied to clipboard.'));
}
</script>
</body>
</html>